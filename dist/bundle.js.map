{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./src/objectGenerator.js","webpack:///./src/urlGenerator.js","webpack:///./src/visualization.js"],"names":["document","addEventListener","salaryIncome","investmentReturnIncome","incomeSavings","incomeInvestments","incomeExpenses","incomeTaxes","savingsSaved","investmentsSaved","expensesSpent","taxesSpent","object","objectMaker","url","urlMaker","visualization","getObjectFromData","getUrlFromObject","jsonse","JSON","stringify","blob","Blob","type","URL","createObjectURL","d3","window","units","margin","top","right","bottom","left","width","height","color","scaleOrdinal","range","formatNumber","format","d","svg","select","append","attr","classed","sankey","nodeWidth","nodePadding","size","path","link","strokeColor","json","error","graph","nodeMap","nodes","forEach","x","name","links","map","source","target","value","layout","selectAll","data","enter","style","Math","max","dy","i","sort","a","b","text","node","y","call","drag","subject","on","parentNode","appendChild","dragmove","replace","rgb","darker","filter","min","dx","event","relayout","_","arguments","length","iterations","computeNodeLinks","computeNodeValues","computeNodeBreadths","computeNodeDepths","computeLinkDepths","curvature","x0","x1","xi","interpolateNumber","x2","x3","y0","sy","y1","ty","sourceLinks","targetLinks","push","sum","remainingNodes","nextNodes","indexOf","moveSinksRight","scaleNodeBreadths","moveSourcesRight","kx","nodesByBreadth","nest","key","sortKeys","ascending","entries","values","initializeNodeDepth","resolveCollisions","alpha","relaxRightToLeft","relaxLeftToRight","ky","breadth","weightedSource","center","slice","reverse","weightedTarget","n","ascendingDepth","ascendingTargetDepth","ascendingSourceDepth"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEAA,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,EAA8C,YAAI;AAC9C,MAAIC,YAAY,GAAG,KAAnB;AACA,MAAIC,sBAAsB,GAAG,IAA7B;AAEA,MAAIC,aAAa,GAAG,KAApB;AACA,MAAIC,iBAAiB,GAAG,IAAxB;AACA,MAAIC,cAAc,GAAG,KAArB;AACA,MAAIC,WAAW,GAAG,KAAlB;AAEA,MAAIC,YAAY,GAAG,KAAnB;AACA,MAAIC,gBAAgB,GAAG,IAAvB;AACA,MAAIC,aAAa,GAAG,KAApB;AACA,MAAIC,UAAU,GAAG,KAAjB;AAEA,MAAMC,MAAM,GAAGC,gEAAW,CACtBX,YADsB,EAEtBC,sBAFsB,EAItBC,aAJsB,EAKtBC,iBALsB,EAMtBC,cANsB,EAOtBC,WAPsB,EAStBC,YATsB,EAUtBC,gBAVsB,EAWtBC,aAXsB,EAYtBC,UAZsB,CAA1B;AAcA,MAAMG,GAAG,GAAGC,6DAAQ,CAACH,MAAD,CAApB;AACAI,gEAAa,CAACF,GAAD,CAAb;AACH,CA9BD,E;;;;;;;;;;;;ACJA;AAAeG,gFAAf;;AAEA,SAASA,iBAAT,CACIf,YADJ,EAEIC,sBAFJ,EAIIC,aAJJ,EAKIC,iBALJ,EAMIC,cANJ,EAOIC,WAPJ,EASIC,YATJ,EAUIC,gBAVJ,EAWIC,aAXJ,EAYIC,UAZJ,EAaE;AACE,SAAO;AACH,aAAS,CACL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KADK,EAKL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KALK,EAUL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KAVK,EAeL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KAfK,EAmBL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KAnBK,EAuBL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KAvBK,EA2BL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KA3BK,EAgCL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KAhCK,EAoCL;AACI,cAAQ,CADZ;AAEI,cAAQ;AAFZ,KApCK,CADN;AA0CH,aAAS,CACL;AACI,gBAAU,QADd;AAEI,gBAAU,QAFd;AAGI,eAAST;AAHb,KADK,EAML;AACI,gBAAU,mBADd;AAEI,gBAAU,QAFd;AAGI,eAASC;AAHb,KANK,EAYL;AACI,gBAAU,QADd;AAEI,gBAAU,SAFd;AAGI,eAASC;AAHb,KAZK,EAiBL;AACI,gBAAU,QADd;AAEI,gBAAU,aAFd;AAGI,eAASC;AAHb,KAjBK,EAsBL;AACI,gBAAU,QADd;AAEI,gBAAU,UAFd;AAGI,eAASC;AAHb,KAtBK,EA2BL;AACI,gBAAU,QADd;AAEI,gBAAU,OAFd;AAGI,eAASC;AAHb,KA3BK,EAiCL;AACI,gBAAU,SADd;AAEI,gBAAU,OAFd;AAGI,eAASC;AAHb,KAjCK,EAsCL;AACI,gBAAU,aADd;AAEI,gBAAU,OAFd;AAGI,eAASC;AAHb,KAtCK,EA2CL;AACI,gBAAU,UADd;AAEI,gBAAU,OAFd;AAGI,eAASC;AAHb,KA3CK,EAgDL;AACI,gBAAU,OADd;AAEI,gBAAU,OAFd;AAGI,eAASC;AAHb,KAhDK;AA1CN,GAAP;AAiGH,C;;;;;;;;;;;;ACjHD;AAAA,SAASO,gBAAT,CAA0BN,MAA1B,EAAkC;AAC9B,MAAIO,MAAM,GAAGC,IAAI,CAACC,SAAL,CAAeT,MAAf,CAAb;AACA,MAAIU,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAACJ,MAAD,CAAT,EAAmB;AAAEK,QAAI,EAAE;AAAR,GAAnB,CAAX;AACA,MAAIV,GAAG,GAAGW,GAAG,CAACC,eAAJ,CAAoBJ,IAApB,CAAV;AACA,SAAOR,GAAP;AACH;;AAEcI,+EAAf,E;;;;;;;;;;;;ACNA;AAAA;AAEA,IAAMS,EAAE,GAAGC,MAAM,CAACD,EAAlB;AAEe,yEAACb,GAAD,EAAS;AACxB,MAAIe,KAAK,GAAG,SAAZ,CADwB,CAGxB;;AACA,MAAIC,MAAM,GAAG;AAAEC,OAAG,EAAE,EAAP;AAAWC,SAAK,EAAE,EAAlB;AAAsBC,UAAM,EAAE,EAA9B;AAAkCC,QAAI,EAAE;AAAxC,GAAb;AAAA,MACIC,KAAK,GAAG,MAAML,MAAM,CAACI,IAAb,GAAoBJ,MAAM,CAACE,KADvC;AAAA,MAEII,MAAM,GAAG,MAAMN,MAAM,CAACC,GAAb,GAAmBD,MAAM,CAACG,MAFvC,CAJwB,CAOpB;AACA;AAEJ;;AACA,MAAII,KAAK,GAAGV,EAAE,CAACW,YAAH,GAAkBC,KAAlB,CAAwB,CAChC,0BADgC,EAEhC,0BAFgC,EAIhC,kBAJgC,EAMhC,uBANgC,EAOhC,uBAPgC,EAQhC,mBARgC,EAShC,oBATgC,EAWhC,kBAXgC,EAYhC,kBAZgC,CAAxB,CAAZ;;AAcA,MAAIC,YAAY,GAAGb,EAAE,CAACc,MAAH,CAAU,MAAV,CAAnB;AAAA,MAAyC;AACrCA,QAAM,GAAG,SAATA,MAAS,CAAUC,CAAV,EAAa;AAAE,WAAOF,YAAY,CAACE,CAAD,CAAZ,GAAkB,GAAlB,GAAwBb,KAA/B;AAAuC,GADnE;AAAA,MAEIQ,KAFJ,CAzBwB,CA6BxB;;;AACA,MAAIM,GAAG,GAAGhB,EAAE,CAACiB,MAAH,CAAU,gBAAV,EAA4BC,MAA5B,CAAmC,KAAnC,EACLC,IADK,CACA,qBADA,EACuB,eADvB,EAELA,IAFK,CAEA,SAFA,EAEW,aAFX,EAGN;AACA;AAJM,GAKLC,OALK,CAKG,WALH,EAKgB,IALhB,EAMLF,MANK,CAME,GANF,EAOLC,IAPK,CAOA,WAPA,EAQF,eAAehB,MAAM,CAACI,IAAtB,GAA6B,GAA7B,GAAmCJ,MAAM,CAACC,GAA1C,GAAgD,GAR9C,CAAV,CA9BwB,CAwCxB;;AACA,MAAIiB,MAAM,GAAGrB,EAAE,CAACqB,MAAH,GACRC,SADQ,CACE,EADF,EAERC,WAFQ,CAEI,EAFJ,EAGRC,IAHQ,CAGH,CAAChB,KAAD,EAAQC,MAAR,CAHG,CAAb;AAIA,MAAIgB,IAAI,GAAGJ,MAAM,CAACK,IAAP,EAAX;AAEA,MAAMC,WAAW,GAAG,CACZ,kBADY,EAEZ,kBAFY,EAIZ,uBAJY,EAKZ,uBALY,EAMZ,mBANY,EAOZ,oBAPY,EASZ,kBATY,EAUZ,kBAVY,EAWZ,kBAXY,EAYZ,kBAZY,CAApB,CA/CwB,CA8DxB;AACA;;AACA3B,IAAE,CAAC4B,IAAH,CAAQzC,GAAR,EAAa,UAAU0C,KAAV,EAAiBC,KAAjB,EAAwB;AACrC;AACI,QAAIC,OAAO,GAAG,EAAd;AACAD,SAAK,CAACE,KAAN,CAAYC,OAAZ,CAAoB,UAAUC,CAAV,EAAa;AAAEH,aAAO,CAACG,CAAC,CAACC,IAAH,CAAP,GAAkBD,CAAlB;AAAsB,KAAzD;AACAJ,SAAK,CAACM,KAAN,GAAcN,KAAK,CAACM,KAAN,CAAYC,GAAZ,CAAgB,UAAUH,CAAV,EAAa;AACvC,aAAO;AACHI,cAAM,EAAEP,OAAO,CAACG,CAAC,CAACI,MAAH,CADZ;AAEHC,cAAM,EAAER,OAAO,CAACG,CAAC,CAACK,MAAH,CAFZ;AAGHC,aAAK,EAAEN,CAAC,CAACM;AAHN,OAAP;AAKH,KANa,CAAd;AAOAnB,UAAM,CACDW,KADL,CACWF,KAAK,CAACE,KADjB,EAEKI,KAFL,CAEWN,KAAK,CAACM,KAFjB,EAGKK,MAHL,CAGY,EAHZ,EAXiC,CAgBjC;;AACA,QAAIf,IAAI,GAAGV,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBwB,SAAhB,CAA0B,OAA1B,EACNC,IADM,CACDb,KAAK,CAACM,KADL,EAENQ,KAFM,GAEE1B,MAFF,CAES,MAFT,EAGNC,IAHM,CAGD,OAHC,EAGQ,MAHR,EAINA,IAJM,CAID,GAJC,EAIIM,IAJJ,EAKNoB,KALM,CAKA,cALA,EAKgB,UAAU9B,CAAV,EAAa;AAAE,aAAO+B,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYhC,CAAC,CAACiC,EAAd,CAAP;AAA2B,KAL1D,EAMNH,KANM,CAMA,QANA,EAMU,UAAU9B,CAAV,EAAakC,CAAb,EAAgB;AAC7B,aAAOlC,CAAC,CAACL,KAAF,GAAUiB,WAAW,CAACsB,CAAD,CAA5B;AACH,KARM,EASNC,IATM,CASD,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AAAE,aAAOA,CAAC,CAACJ,EAAF,GAAOG,CAAC,CAACH,EAAhB;AAAqB,KATtC,CAAX,CAjBiC,CA4BjC;;AACAtB,QAAI,CAACR,MAAL,CAAY,OAAZ,EACKmC,IADL,CACU,UAAUtC,CAAV,EAAa;AACf,aAAOA,CAAC,CAACuB,MAAF,CAASH,IAAT,GAAgB,KAAhB,GACHpB,CAAC,CAACwB,MAAF,CAASJ,IADN,GACa,IADb,GACoBrB,MAAM,CAACC,CAAC,CAACyB,KAAH,CADjC;AAEH,KAJL,EA7BiC,CAmCjC;;AACA,QAAIc,IAAI,GAAGtC,GAAG,CAACE,MAAJ,CAAW,GAAX,EAAgBwB,SAAhB,CAA0B,OAA1B,EACNC,IADM,CACDb,KAAK,CAACE,KADL,EAENY,KAFM,GAEE1B,MAFF,CAES,GAFT,EAGNC,IAHM,CAGD,OAHC,EAGQ,MAHR,EAINA,IAJM,CAID,WAJC,EAIY,UAAUJ,CAAV,EAAa;AAC5B,aAAO,eAAeA,CAAC,CAACmB,CAAjB,GAAqB,GAArB,GAA2BnB,CAAC,CAACwC,CAA7B,GAAiC,GAAxC;AACH,KANM,EAONC,IAPM,CAODxD,EAAE,CAACyD,IAAH,GACDC,OADC,CACO,UAAU3C,CAAV,EAAa;AAClB,aAAOA,CAAP;AACH,KAHC,EAID4C,EAJC,CAIE,OAJF,EAIW,YAAY;AACrB,WAAKC,UAAL,CAAgBC,WAAhB,CAA4B,IAA5B;AACH,KANC,EAODF,EAPC,CAOE,MAPF,EAOUG,QAPV,CAPC,CAAX,CApCiC,CAoDjC;;AACAR,QAAI,CAACpC,MAAL,CAAY,MAAZ,EACKC,IADL,CACU,QADV,EACoB,UAAUJ,CAAV,EAAa;AAAE,aAAOA,CAAC,CAACiC,EAAT;AAAc,KADjD,EAEK7B,IAFL,CAEU,OAFV,EAEmBE,MAAM,CAACC,SAAP,EAFnB,EAGKuB,KAHL,CAGW,MAHX,EAGmB,UAAU9B,CAAV,EAAa;AACxB,aAAOA,CAAC,CAACL,KAAF,GAAUA,KAAK,CAACK,CAAC,CAACoB,IAAF,CAAO4B,OAAP,CAAe,KAAf,EAAsB,EAAtB,CAAD,CAAtB;AACH,KALL,EAMKlB,KANL,CAMW,QANX,EAMqB,UAAU9B,CAAV,EAAa;AAC1B,aAAOf,EAAE,CAACgE,GAAH,CAAOjD,CAAC,CAACL,KAAT,EAAgBuD,MAAhB,CAAuB,CAAvB,CAAP;AACH,KARL,EASK/C,MATL,CASY,OATZ,EAUKmC,IAVL,CAUU,UAAUtC,CAAV,EAAa;AACf,aAAOA,CAAC,CAACoB,IAAF,GAAS,IAAT,GAAgBrB,MAAM,CAACC,CAAC,CAACyB,KAAH,CAA7B;AACH,KAZL,EArDiC,CAmEjC;;AACAc,QAAI,CAACpC,MAAL,CAAY,MAAZ,EACKC,IADL,CACU,GADV,EACe,CAAC,CADhB,EAEKA,IAFL,CAEU,GAFV,EAEe,UAAUJ,CAAV,EAAa;AAAE,aAAOA,CAAC,CAACiC,EAAF,GAAO,CAAd;AAAkB,KAFhD,EAGK7B,IAHL,CAGU,IAHV,EAGgB,OAHhB,EAIKA,IAJL,CAIU,aAJV,EAIyB,KAJzB,EAKKA,IALL,CAKU,WALV,EAKuB,IALvB,EAMKkC,IANL,CAMU,UAAUtC,CAAV,EAAa;AAAE,aAAOA,CAAC,CAACoB,IAAT;AAAgB,KANzC,EAOK+B,MAPL,CAOY,UAAUnD,CAAV,EAAa;AAAE,aAAOA,CAAC,CAACmB,CAAF,GAAM1B,KAAK,GAAG,CAArB;AAAyB,KAPpD,EAQKW,IARL,CAQU,GARV,EAQe,IAAIE,MAAM,CAACC,SAAP,EARnB,EASKH,IATL,CASU,aATV,EASyB,OATzB,EApEiC,CA+EjC;;AACA,aAAS2C,QAAT,CAAkB/C,CAAlB,EAAqB;AACjBf,QAAE,CAACiB,MAAH,CAAU,IAAV,EACKE,IADL,CACU,WADV,EAEQ,gBACIJ,CAAC,CAACmB,CAAF,GAAMY,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACqB,GAAL,CAAS3D,KAAK,GAAGO,CAAC,CAACqD,EAAnB,EAAuBpE,EAAE,CAACqE,KAAH,CAASnC,CAAhC,CAAZ,CADV,IAGE,GAHF,IAIInB,CAAC,CAACwC,CAAF,GAAMT,IAAI,CAACC,GAAL,CAAS,CAAT,EAAYD,IAAI,CAACqB,GAAL,CAAS1D,MAAM,GAAGM,CAAC,CAACiC,EAApB,EAAwBhD,EAAE,CAACqE,KAAH,CAASd,CAAjC,CAAZ,CAJV,IAKI,GAPZ;AAQAlC,YAAM,CAACiD,QAAP;AACA5C,UAAI,CAACP,IAAL,CAAU,GAAV,EAAeM,IAAf;AACH;AACJ,GA5FD;AA6FC,CA7JD;;AA+JAzB,EAAE,CAACqB,MAAH,GAAY,YAAY;AACpB,MAAIA,MAAM,GAAG,EAAb;AAAA,MACIC,SAAS,GAAG,EADhB;AAAA,MAEIC,WAAW,GAAG,CAFlB;AAAA,MAGIC,IAAI,GAAG,CAAC,CAAD,EAAI,CAAJ,CAHX;AAAA,MAIIQ,KAAK,GAAG,EAJZ;AAAA,MAKII,KAAK,GAAG,EALZ;;AAOAf,QAAM,CAACC,SAAP,GAAmB,UAAUiD,CAAV,EAAa;AAC5B,QAAI,CAACC,SAAS,CAACC,MAAf,EAAuB,OAAOnD,SAAP;AACvBA,aAAS,GAAG,CAACiD,CAAb;AACA,WAAOlD,MAAP;AACH,GAJD;;AAMAA,QAAM,CAACE,WAAP,GAAqB,UAAUgD,CAAV,EAAa;AAC9B,QAAI,CAACC,SAAS,CAACC,MAAf,EAAuB,OAAOlD,WAAP;AACvBA,eAAW,GAAG,CAACgD,CAAf;AACA,WAAOlD,MAAP;AACH,GAJD;;AAMAA,QAAM,CAACW,KAAP,GAAe,UAAUuC,CAAV,EAAa;AACxB,QAAI,CAACC,SAAS,CAACC,MAAf,EAAuB,OAAOzC,KAAP;AACvBA,SAAK,GAAGuC,CAAR;AACA,WAAOlD,MAAP;AACH,GAJD;;AAMAA,QAAM,CAACe,KAAP,GAAe,UAAUmC,CAAV,EAAa;AACxB,QAAI,CAACC,SAAS,CAACC,MAAf,EAAuB,OAAOrC,KAAP;AACvBA,SAAK,GAAGmC,CAAR;AACA,WAAOlD,MAAP;AACH,GAJD;;AAMAA,QAAM,CAACG,IAAP,GAAc,UAAU+C,CAAV,EAAa;AACvB,QAAI,CAACC,SAAS,CAACC,MAAf,EAAuB,OAAOjD,IAAP;AACvBA,QAAI,GAAG+C,CAAP;AACA,WAAOlD,MAAP;AACH,GAJD;;AAMAA,QAAM,CAACoB,MAAP,GAAgB,UAAUiC,UAAV,EAAsB;AAClCC,oBAAgB;AAChBC,qBAAiB;AACjBC,uBAAmB;AACnBC,qBAAiB,CAACJ,UAAD,CAAjB;AACAK,qBAAiB;AACjB,WAAO1D,MAAP;AACH,GAPD;;AASAA,QAAM,CAACiD,QAAP,GAAkB,YAAY;AAC1BS,qBAAiB;AACjB,WAAO1D,MAAP;AACH,GAHD;;AAKAA,QAAM,CAACK,IAAP,GAAc,YAAY;AACtB,QAAIsD,SAAS,GAAG,EAAhB;;AAEA,aAAStD,IAAT,CAAcX,CAAd,EAAiB;AACb,UAAIkE,EAAE,GAAGlE,CAAC,CAACuB,MAAF,CAASJ,CAAT,GAAanB,CAAC,CAACuB,MAAF,CAAS8B,EAA/B;AAAA,UACIc,EAAE,GAAGnE,CAAC,CAACwB,MAAF,CAASL,CADlB;AAAA,UAEIiD,EAAE,GAAGnF,EAAE,CAACoF,iBAAH,CAAqBH,EAArB,EAAyBC,EAAzB,CAFT;AAAA,UAGIG,EAAE,GAAGF,EAAE,CAACH,SAAD,CAHX;AAAA,UAIIM,EAAE,GAAGH,EAAE,CAAC,IAAIH,SAAL,CAJX;AAAA,UAKIO,EAAE,GAAGxE,CAAC,CAACuB,MAAF,CAASiB,CAAT,GAAaxC,CAAC,CAACyE,EAAf,GAAoBzE,CAAC,CAACiC,EAAF,GAAO,CALpC;AAAA,UAMIyC,EAAE,GAAG1E,CAAC,CAACwB,MAAF,CAASgB,CAAT,GAAaxC,CAAC,CAAC2E,EAAf,GAAoB3E,CAAC,CAACiC,EAAF,GAAO,CANpC;AAOA,aAAO,MAAMiC,EAAN,GAAW,GAAX,GAAiBM,EAAjB,GACD,GADC,GACKF,EADL,GACU,GADV,GACgBE,EADhB,GAED,GAFC,GAEKD,EAFL,GAEU,GAFV,GAEgBG,EAFhB,GAGD,GAHC,GAGKP,EAHL,GAGU,GAHV,GAGgBO,EAHvB;AAIH;;AAED/D,QAAI,CAACsD,SAAL,GAAiB,UAAUT,CAAV,EAAa;AAC1B,UAAI,CAACC,SAAS,CAACC,MAAf,EAAuB,OAAOO,SAAP;AACvBA,eAAS,GAAG,CAACT,CAAb;AACA,aAAO7C,IAAP;AACH,KAJD;;AAMA,WAAOA,IAAP;AACH,GAxBD,CApDoB,CA8EpB;AACA;;;AACA,WAASiD,gBAAT,GAA4B;AACxB3C,SAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1BA,UAAI,CAACqC,WAAL,GAAmB,EAAnB;AACArC,UAAI,CAACsC,WAAL,GAAmB,EAAnB;AACH,KAHD;AAIAxD,SAAK,CAACH,OAAN,CAAc,UAAUP,IAAV,EAAgB;AAC1B,UAAIY,MAAM,GAAGZ,IAAI,CAACY,MAAlB;AAAA,UACIC,MAAM,GAAGb,IAAI,CAACa,MADlB;AAEA,UAAI,OAAOD,MAAP,KAAkB,QAAtB,EAAgCA,MAAM,GAAGZ,IAAI,CAACY,MAAL,GAAcN,KAAK,CAACN,IAAI,CAACY,MAAN,CAA5B;AAChC,UAAI,OAAOC,MAAP,KAAkB,QAAtB,EAAgCA,MAAM,GAAGb,IAAI,CAACa,MAAL,GAAcP,KAAK,CAACN,IAAI,CAACa,MAAN,CAA5B;AAChCD,YAAM,CAACqD,WAAP,CAAmBE,IAAnB,CAAwBnE,IAAxB;AACAa,YAAM,CAACqD,WAAP,CAAmBC,IAAnB,CAAwBnE,IAAxB;AACH,KAPD;AAQH,GA7FmB,CA+FpB;;;AACA,WAASkD,iBAAT,GAA6B;AACzB5C,SAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1BA,UAAI,CAACd,KAAL,GAAaM,IAAI,CAACC,GAAL,CACT/C,EAAE,CAAC8F,GAAH,CAAOxC,IAAI,CAACqC,WAAZ,EAAyBnD,KAAzB,CADS,EAETxC,EAAE,CAAC8F,GAAH,CAAOxC,IAAI,CAACsC,WAAZ,EAAyBpD,KAAzB,CAFS,CAAb;AAIH,KALD;AAMH,GAvGmB,CAyGpB;AACA;AACA;AACA;;;AACA,WAASqC,mBAAT,GAA+B;AAC3B,QAAIkB,cAAc,GAAG/D,KAArB;AAAA,QACIgE,SADJ;AAAA,QAEI9D,CAAC,GAAG,CAFR;;AAIA,WAAO6D,cAAc,CAACtB,MAAtB,EAA8B;AAC1BuB,eAAS,GAAG,EAAZ;AACAD,oBAAc,CAAC9D,OAAf,CAAuB,UAAUqB,IAAV,EAAgB;AACnCA,YAAI,CAACpB,CAAL,GAASA,CAAT;AACAoB,YAAI,CAACc,EAAL,GAAU9C,SAAV;AACAgC,YAAI,CAACqC,WAAL,CAAiB1D,OAAjB,CAAyB,UAAUP,IAAV,EAAgB;AACrC,cAAIsE,SAAS,CAACC,OAAV,CAAkBvE,IAAI,CAACa,MAAvB,IAAiC,CAArC,EAAwC;AACpCyD,qBAAS,CAACH,IAAV,CAAenE,IAAI,CAACa,MAApB;AACH;AACJ,SAJD;AAKH,OARD;AASAwD,oBAAc,GAAGC,SAAjB;AACA,QAAE9D,CAAF;AACH,KAlB0B,CAoB3B;;;AACAgE,kBAAc,CAAChE,CAAD,CAAd;AACAiE,qBAAiB,CAAC,CAAC3E,IAAI,CAAC,CAAD,CAAJ,GAAUF,SAAX,KAAyBY,CAAC,GAAG,CAA7B,CAAD,CAAjB;AACH;;AAED,WAASkE,gBAAT,GAA4B;AACxBpE,SAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1B,UAAI,CAACA,IAAI,CAACsC,WAAL,CAAiBnB,MAAtB,EAA8B;AAC1BnB,YAAI,CAACpB,CAAL,GAASlC,EAAE,CAACmE,GAAH,CAAOb,IAAI,CAACqC,WAAZ,EAAyB,UAAU5E,CAAV,EAAa;AAAE,iBAAOA,CAAC,CAACwB,MAAF,CAASL,CAAhB;AAAoB,SAA5D,IAAgE,CAAzE;AACH;AACJ,KAJD;AAKH;;AAED,WAASgE,cAAT,CAAwBhE,CAAxB,EAA2B;AACvBF,SAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1B,UAAI,CAACA,IAAI,CAACqC,WAAL,CAAiBlB,MAAtB,EAA8B;AAC1BnB,YAAI,CAACpB,CAAL,GAASA,CAAC,GAAG,CAAb;AACH;AACJ,KAJD;AAKH;;AAED,WAASiE,iBAAT,CAA2BE,EAA3B,EAA+B;AAC3BrE,SAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1BA,UAAI,CAACpB,CAAL,IAAUmE,EAAV;AACH,KAFD;AAGH;;AAED,WAASvB,iBAAT,CAA2BJ,UAA3B,EAAuC;AACnC,QAAI4B,cAAc,GAAGtG,EAAE,CAACuG,IAAH,GAChBC,GADgB,CACZ,UAAUzF,CAAV,EAAa;AAAE,aAAOA,CAAC,CAACmB,CAAT;AAAa,KADhB,EAEhBuE,QAFgB,CAEPzG,EAAE,CAAC0G,SAFI,EAGhBC,OAHgB,CAGR3E,KAHQ,EAIhBK,GAJgB,CAIZ,UAAUtB,CAAV,EAAa;AAAE,aAAOA,CAAC,CAAC6F,MAAT;AAAkB,KAJrB,CAArB,CADmC,CAOnC;;AACAC,uBAAmB;AACnBC,qBAAiB;;AACjB,SAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBrC,UAAU,GAAG,CAAjC,EAAoC,EAAEA,UAAtC,EAAkD;AAC9CsC,sBAAgB,CAACD,KAAK,IAAI,GAAV,CAAhB;AACAD,uBAAiB;AACjBG,sBAAgB,CAACF,KAAD,CAAhB;AACAD,uBAAiB;AACpB;;AAED,aAASD,mBAAT,GAA+B;AAC3B,UAAIK,EAAE,GAAGlH,EAAE,CAACmE,GAAH,CAAOmC,cAAP,EAAuB,UAAUtE,KAAV,EAAiB;AAC7C,eAAO,CAACR,IAAI,CAAC,CAAD,CAAJ,GAAU,CAACQ,KAAK,CAACyC,MAAN,GAAe,CAAhB,IAAqBlD,WAAhC,IAA+CvB,EAAE,CAAC8F,GAAH,CAAO9D,KAAP,EAAcQ,KAAd,CAAtD;AACH,OAFQ,CAAT;AAIA8D,oBAAc,CAACrE,OAAf,CAAuB,UAAUD,KAAV,EAAiB;AACpCA,aAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgBL,CAAhB,EAAmB;AAC7BK,cAAI,CAACC,CAAL,GAASN,CAAT;AACAK,cAAI,CAACN,EAAL,GAAUM,IAAI,CAACd,KAAL,GAAa0E,EAAvB;AACH,SAHD;AAIH,OALD;AAOA9E,WAAK,CAACH,OAAN,CAAc,UAAUP,IAAV,EAAgB;AAC1BA,YAAI,CAACsB,EAAL,GAAUtB,IAAI,CAACc,KAAL,GAAa0E,EAAvB;AACH,OAFD;AAGH;;AAED,aAASD,gBAAT,CAA0BF,KAA1B,EAAiC;AAC7BT,oBAAc,CAACrE,OAAf,CAAuB,UAAUD,KAAV,EAAiBmF,OAAjB,EAA0B;AAC7CnF,aAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1B,cAAIA,IAAI,CAACsC,WAAL,CAAiBnB,MAArB,EAA6B;AACzB,gBAAIlB,CAAC,GAAGvD,EAAE,CAAC8F,GAAH,CAAOxC,IAAI,CAACsC,WAAZ,EAAyBwB,cAAzB,IAA2CpH,EAAE,CAAC8F,GAAH,CAAOxC,IAAI,CAACsC,WAAZ,EAAyBpD,KAAzB,CAAnD;AACAc,gBAAI,CAACC,CAAL,IAAU,CAACA,CAAC,GAAG8D,MAAM,CAAC/D,IAAD,CAAX,IAAqByD,KAA/B;AACH;AACJ,SALD;AAMH,OAPD;;AASA,eAASK,cAAT,CAAwB1F,IAAxB,EAA8B;AAC1B,eAAO2F,MAAM,CAAC3F,IAAI,CAACY,MAAN,CAAN,GAAsBZ,IAAI,CAACc,KAAlC;AACH;AACJ;;AAED,aAASwE,gBAAT,CAA0BD,KAA1B,EAAiC;AAC7BT,oBAAc,CAACgB,KAAf,GAAuBC,OAAvB,GAAiCtF,OAAjC,CAAyC,UAAUD,KAAV,EAAiB;AACtDA,aAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1B,cAAIA,IAAI,CAACqC,WAAL,CAAiBlB,MAArB,EAA6B;AACzB,gBAAIlB,CAAC,GAAGvD,EAAE,CAAC8F,GAAH,CAAOxC,IAAI,CAACqC,WAAZ,EAAyB6B,cAAzB,IAA2CxH,EAAE,CAAC8F,GAAH,CAAOxC,IAAI,CAACqC,WAAZ,EAAyBnD,KAAzB,CAAnD;AACAc,gBAAI,CAACC,CAAL,IAAU,CAACA,CAAC,GAAG8D,MAAM,CAAC/D,IAAD,CAAX,IAAqByD,KAA/B;AACH;AACJ,SALD;AAMH,OAPD;;AASA,eAASS,cAAT,CAAwB9F,IAAxB,EAA8B;AAC1B,eAAO2F,MAAM,CAAC3F,IAAI,CAACa,MAAN,CAAN,GAAsBb,IAAI,CAACc,KAAlC;AACH;AACJ;;AAED,aAASsE,iBAAT,GAA6B;AACzBR,oBAAc,CAACrE,OAAf,CAAuB,UAAUD,KAAV,EAAiB;AACpC,YAAIsB,IAAJ;AAAA,YACIN,EADJ;AAAA,YAEIuC,EAAE,GAAG,CAFT;AAAA,YAGIkC,CAAC,GAAGzF,KAAK,CAACyC,MAHd;AAAA,YAIIxB,CAJJ,CADoC,CAOpC;;AACAjB,aAAK,CAACkB,IAAN,CAAWwE,cAAX;;AACA,aAAKzE,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGwE,CAAhB,EAAmB,EAAExE,CAArB,EAAwB;AACpBK,cAAI,GAAGtB,KAAK,CAACiB,CAAD,CAAZ;AACAD,YAAE,GAAGuC,EAAE,GAAGjC,IAAI,CAACC,CAAf;AACA,cAAIP,EAAE,GAAG,CAAT,EAAYM,IAAI,CAACC,CAAL,IAAUP,EAAV;AACZuC,YAAE,GAAGjC,IAAI,CAACC,CAAL,GAASD,IAAI,CAACN,EAAd,GAAmBzB,WAAxB;AACH,SAdmC,CAgBpC;;;AACAyB,UAAE,GAAGuC,EAAE,GAAGhE,WAAL,GAAmBC,IAAI,CAAC,CAAD,CAA5B;;AACA,YAAIwB,EAAE,GAAG,CAAT,EAAY;AACRuC,YAAE,GAAGjC,IAAI,CAACC,CAAL,IAAUP,EAAf,CADQ,CAGR;;AACA,eAAKC,CAAC,GAAGwE,CAAC,GAAG,CAAb,EAAgBxE,CAAC,IAAI,CAArB,EAAwB,EAAEA,CAA1B,EAA6B;AACzBK,gBAAI,GAAGtB,KAAK,CAACiB,CAAD,CAAZ;AACAD,cAAE,GAAGM,IAAI,CAACC,CAAL,GAASD,IAAI,CAACN,EAAd,GAAmBzB,WAAnB,GAAiCgE,EAAtC;AACA,gBAAIvC,EAAE,GAAG,CAAT,EAAYM,IAAI,CAACC,CAAL,IAAUP,EAAV;AACZuC,cAAE,GAAGjC,IAAI,CAACC,CAAV;AACH;AACJ;AACJ,OA7BD;AA8BH;;AAED,aAASmE,cAAT,CAAwBvE,CAAxB,EAA2BC,CAA3B,EAA8B;AAC1B,aAAOD,CAAC,CAACI,CAAF,GAAMH,CAAC,CAACG,CAAf;AACH;AACJ;;AAED,WAASwB,iBAAT,GAA6B;AACzB/C,SAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1BA,UAAI,CAACqC,WAAL,CAAiBzC,IAAjB,CAAsByE,oBAAtB;AACArE,UAAI,CAACsC,WAAL,CAAiB1C,IAAjB,CAAsB0E,oBAAtB;AACH,KAHD;AAIA5F,SAAK,CAACC,OAAN,CAAc,UAAUqB,IAAV,EAAgB;AAC1B,UAAIkC,EAAE,GAAG,CAAT;AAAA,UAAYE,EAAE,GAAG,CAAjB;AACApC,UAAI,CAACqC,WAAL,CAAiB1D,OAAjB,CAAyB,UAAUP,IAAV,EAAgB;AACrCA,YAAI,CAAC8D,EAAL,GAAUA,EAAV;AACAA,UAAE,IAAI9D,IAAI,CAACsB,EAAX;AACH,OAHD;AAIAM,UAAI,CAACsC,WAAL,CAAiB3D,OAAjB,CAAyB,UAAUP,IAAV,EAAgB;AACrCA,YAAI,CAACgE,EAAL,GAAUA,EAAV;AACAA,UAAE,IAAIhE,IAAI,CAACsB,EAAX;AACH,OAHD;AAIH,KAVD;;AAYA,aAAS4E,oBAAT,CAA8BzE,CAA9B,EAAiCC,CAAjC,EAAoC;AAChC,aAAOD,CAAC,CAACb,MAAF,CAASiB,CAAT,GAAaH,CAAC,CAACd,MAAF,CAASiB,CAA7B;AACH;;AAED,aAASoE,oBAAT,CAA8BxE,CAA9B,EAAiCC,CAAjC,EAAoC;AAChC,aAAOD,CAAC,CAACZ,MAAF,CAASgB,CAAT,GAAaH,CAAC,CAACb,MAAF,CAASgB,CAA7B;AACH;AACJ;;AAED,WAAS8D,MAAT,CAAgB/D,IAAhB,EAAsB;AAClB,WAAOA,IAAI,CAACC,CAAL,GAASD,IAAI,CAACN,EAAL,GAAU,CAA1B;AACH;;AAED,WAASR,KAAT,CAAed,IAAf,EAAqB;AACjB,WAAOA,IAAI,CAACc,KAAZ;AACH;;AAED,SAAOnB,MAAP;AACH,CArSD,C","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import visualization from './visualization';\nimport objectMaker from './objectGenerator';\nimport urlMaker from './urlGenerator';\n\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    let salaryIncome = 75000;\n    let investmentReturnIncome = 5000;\n\n    let incomeSavings = 12000;\n    let incomeInvestments = 4000;\n    let incomeExpenses = 36000;\n    let incomeTaxes = 28000;\n\n    let savingsSaved = 12000;\n    let investmentsSaved = 4000;\n    let expensesSpent = 36000;\n    let taxesSpent = 28000;\n\n    const object = objectMaker(\n        salaryIncome,\n        investmentReturnIncome,\n\n        incomeSavings,\n        incomeInvestments,\n        incomeExpenses,\n        incomeTaxes,\n\n        savingsSaved,\n        investmentsSaved,\n        expensesSpent,\n        taxesSpent,\n    );\n    const url = urlMaker(object);\n    visualization(url)\n})","export default getObjectFromData;\n\nfunction getObjectFromData(\n    salaryIncome,\n    investmentReturnIncome,\n\n    incomeSavings,\n    incomeInvestments,\n    incomeExpenses,\n    incomeTaxes,\n\n    savingsSaved,\n    investmentsSaved,\n    expensesSpent,\n    taxesSpent,\n) {\n    return {\n        \"nodes\": [\n            {\n                \"node\": 0,\n                \"name\": \"Salary\"\n            },\n            {\n                \"node\": 1,\n                \"name\": \"Investment Return\"\n            },\n\n            {\n                \"node\": 2,\n                \"name\": \"Income\"\n            },\n\n            {\n                \"node\": 3,\n                \"name\": \"Savings\"\n            },\n            {\n                \"node\": 4,\n                \"name\": \"Investments\"\n            },\n            {\n                \"node\": 5,\n                \"name\": \"Expenses\"\n            },\n            {\n                \"node\": 6,\n                \"name\": \"Taxes\"\n            },\n\n            {\n                \"node\": 7,\n                \"name\": \"Saved\"\n            },\n            {\n                \"node\": 8,\n                \"name\": \"Spent\"\n            }\n        ],\n        \"links\": [\n            {\n                \"source\": \"Salary\",\n                \"target\": \"Income\",\n                \"value\": salaryIncome\n            },\n            {\n                \"source\": \"Investment Return\",\n                \"target\": \"Income\",\n                \"value\": investmentReturnIncome\n            },\n\n            {\n                \"source\": \"Income\",\n                \"target\": \"Savings\",\n                \"value\": incomeSavings\n            },\n            {\n                \"source\": \"Income\",\n                \"target\": \"Investments\",\n                \"value\": incomeInvestments\n            },\n            {\n                \"source\": \"Income\",\n                \"target\": \"Expenses\",\n                \"value\": incomeExpenses\n            },\n            {\n                \"source\": \"Income\",\n                \"target\": \"Taxes\",\n                \"value\": incomeTaxes\n            },\n\n            {\n                \"source\": \"Savings\",\n                \"target\": \"Saved\",\n                \"value\": savingsSaved\n            },\n            {\n                \"source\": \"Investments\",\n                \"target\": \"Saved\",\n                \"value\": investmentsSaved\n            },\n            {\n                \"source\": \"Expenses\",\n                \"target\": \"Spent\",\n                \"value\": expensesSpent\n            },\n            {\n                \"source\": \"Taxes\",\n                \"target\": \"Spent\",\n                \"value\": taxesSpent\n            }\n        ]\n    }\n}","function getUrlFromObject(object) {\n    var jsonse = JSON.stringify(object);\n    var blob = new Blob([jsonse], { type: \"application/json\" });\n    var url = URL.createObjectURL(blob);\n    return url;\n}\n\nexport default getUrlFromObject;","\n// import * as d3 from 'd3';\n\nconst d3 = window.d3;\n\nexport default (url) => {\nvar units = \"dollars\";\n\n// set the dimensions and margins of the graph\nvar margin = { top: 10, right: 10, bottom: 10, left: 10 },\n    width = 700 - margin.left - margin.right,\n    height = 300 - margin.top - margin.bottom;\n    // width = 1400 - margin.left - margin.right,\n    // height = 700 - margin.top - margin.bottom;\n\n// format variables\nvar color = d3.scaleOrdinal().range([\n    \"rgba(45, 165, 239, 0.75)\", \n    \"rgba(78, 244, 242, 0.75)\",\n\n    \"rgb(37, 90, 234)\",\n\n    \"rgba(45, 165, 239, 1)\",\n    \"rgba(78, 244, 242, 1)\",\n    \"rgb(239, 237, 91)\",\n    \"rgb(247, 168, 236)\",\n\n    \"rgb(33, 237, 97)\",\n    \"rgb(239, 43, 49)\"\n]);\nvar formatNumber = d3.format(\",.0f\"),    // zero decimal places\n    format = function (d) { return formatNumber(d) + \" \" + units; },\n    color;\n\n// append the svg object to the body of the page\nvar svg = d3.select(\".visualization\").append(\"svg\")\n    .attr(\"preserveAspectRatio\", \"xMinYMin meet\")\n    .attr(\"viewBox\", \"0 0 700 350\")\n    // .attr(\"width\", width + margin.left + margin.right)\n    // .attr(\"height\", height + margin.top + margin.bottom)\n    .classed(\"inner-svg\", true)\n    .append(\"g\")\n    .attr(\"transform\",\n        \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n// Set the sankey diagram properties\nvar sankey = d3.sankey()\n    .nodeWidth(36)\n    .nodePadding(40)\n    .size([width, height]);\nvar path = sankey.link();\n\nconst strokeColor = [\n        \"rgb(37, 90, 234)\",\n        \"rgb(37, 90, 234)\",\n\n        \"rgba(45, 165, 239, 1)\",\n        \"rgba(78, 244, 242, 1)\",\n        \"rgb(239, 237, 91)\",\n        \"rgb(247, 168, 236)\",\n\n        \"rgb(33, 237, 97)\",\n        \"rgb(33, 237, 97)\",\n        \"rgb(239, 43, 49)\",\n        \"rgb(239, 43, 49)\",\n    ];\n\n// load the data\n// d3.json('./src/data/data.json', function (error, graph) {\nd3.json(url, function (error, graph) {\n// d3.json('./src/data/sankeyData.json', function (error, graph) {\n    var nodeMap = {};\n    graph.nodes.forEach(function (x) { nodeMap[x.name] = x; });\n    graph.links = graph.links.map(function (x) {\n        return {\n            source: nodeMap[x.source],\n            target: nodeMap[x.target],\n            value: x.value\n        };\n    });\n    sankey\n        .nodes(graph.nodes)\n        .links(graph.links)\n        .layout(32);\n        \n    // add in the links\n    var link = svg.append(\"g\").selectAll(\".link\")\n        .data(graph.links)\n        .enter().append(\"path\")\n        .attr(\"class\", \"link\")\n        .attr(\"d\", path)\n        .style(\"stroke-width\", function (d) { return Math.max(1, d.dy); })\n        .style(\"stroke\", function (d, i) {\n            return d.color = strokeColor[i];\n        })\n        .sort(function (a, b) { return b.dy - a.dy; });\n\n    // add the link titles\n    link.append(\"title\")\n        .text(function (d) {\n            return d.source.name + \" → \" +\n                d.target.name + \"\\n\" + format(d.value);\n        });\n\n    // add in the nodes\n    var node = svg.append(\"g\").selectAll(\".node\")\n        .data(graph.nodes)\n        .enter().append(\"g\")\n        .attr(\"class\", \"node\")\n        .attr(\"transform\", function (d) {\n            return \"translate(\" + d.x + \",\" + d.y + \")\";\n        })\n        .call(d3.drag()\n            .subject(function (d) {\n                return d;\n            })\n            .on(\"start\", function () {\n                this.parentNode.appendChild(this);\n            })\n            .on(\"drag\", dragmove));\n\n    // add the rectangles for the nodes\n    node.append(\"rect\")\n        .attr(\"height\", function (d) { return d.dy; })\n        .attr(\"width\", sankey.nodeWidth())\n        .style(\"fill\", function (d) {\n            return d.color = color(d.name.replace(/ .*/, \"\"));\n        })\n        .style(\"stroke\", function (d) {\n            return d3.rgb(d.color).darker(2);\n        })\n        .append(\"title\")\n        .text(function (d) {\n            return d.name + \"\\n\" + format(d.value);\n        });\n\n    // add in the title for the nodes\n    node.append(\"text\")\n        .attr(\"x\", -6)\n        .attr(\"y\", function (d) { return d.dy / 2; })\n        .attr(\"dy\", \".35em\")\n        .attr(\"text-anchor\", \"end\")\n        .attr(\"transform\", null)\n        .text(function (d) { return d.name; })\n        .filter(function (d) { return d.x < width / 2; })\n        .attr(\"x\", 6 + sankey.nodeWidth())\n        .attr(\"text-anchor\", \"start\");\n\n    // the function for moving the nodes\n    function dragmove(d) {\n        d3.select(this)\n            .attr(\"transform\",\n                \"translate(\" + (\n                    d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))\n                )\n                + \",\" + (\n                    d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))\n                ) + \")\");\n        sankey.relayout();\n        link.attr(\"d\", path);\n    }\n});\n}\n\nd3.sankey = function () {\n    var sankey = {},\n        nodeWidth = 24,\n        nodePadding = 8,\n        size = [1, 1],\n        nodes = [],\n        links = [];\n\n    sankey.nodeWidth = function (_) {\n        if (!arguments.length) return nodeWidth;\n        nodeWidth = +_;\n        return sankey;\n    };\n\n    sankey.nodePadding = function (_) {\n        if (!arguments.length) return nodePadding;\n        nodePadding = +_;\n        return sankey;\n    };\n\n    sankey.nodes = function (_) {\n        if (!arguments.length) return nodes;\n        nodes = _;\n        return sankey;\n    };\n\n    sankey.links = function (_) {\n        if (!arguments.length) return links;\n        links = _;\n        return sankey;\n    };\n\n    sankey.size = function (_) {\n        if (!arguments.length) return size;\n        size = _;\n        return sankey;\n    };\n\n    sankey.layout = function (iterations) {\n        computeNodeLinks();\n        computeNodeValues();\n        computeNodeBreadths();\n        computeNodeDepths(iterations);\n        computeLinkDepths();\n        return sankey;\n    };\n\n    sankey.relayout = function () {\n        computeLinkDepths();\n        return sankey;\n    };\n\n    sankey.link = function () {\n        var curvature = .5;\n\n        function link(d) {\n            var x0 = d.source.x + d.source.dx,\n                x1 = d.target.x,\n                xi = d3.interpolateNumber(x0, x1),\n                x2 = xi(curvature),\n                x3 = xi(1 - curvature),\n                y0 = d.source.y + d.sy + d.dy / 2,\n                y1 = d.target.y + d.ty + d.dy / 2;\n            return \"M\" + x0 + \",\" + y0\n                + \"C\" + x2 + \",\" + y0\n                + \" \" + x3 + \",\" + y1\n                + \" \" + x1 + \",\" + y1;\n        }\n\n        link.curvature = function (_) {\n            if (!arguments.length) return curvature;\n            curvature = +_;\n            return link;\n        };\n\n        return link;\n    };\n\n    // Populate the sourceLinks and targetLinks for each node.\n    // Also, if the source and target are not objects, assume they are indices.\n    function computeNodeLinks() {\n        nodes.forEach(function (node) {\n            node.sourceLinks = [];\n            node.targetLinks = [];\n        });\n        links.forEach(function (link) {\n            var source = link.source,\n                target = link.target;\n            if (typeof source === \"number\") source = link.source = nodes[link.source];\n            if (typeof target === \"number\") target = link.target = nodes[link.target];\n            source.sourceLinks.push(link);\n            target.targetLinks.push(link);\n        });\n    }\n\n    // Compute the value (size) of each node by summing the associated links.\n    function computeNodeValues() {\n        nodes.forEach(function (node) {\n            node.value = Math.max(\n                d3.sum(node.sourceLinks, value),\n                d3.sum(node.targetLinks, value)\n            );\n        });\n    }\n\n    // Iteratively assign the breadth (x-position) for each node.\n    // Nodes are assigned the maximum breadth of incoming neighbors plus one;\n    // nodes with no incoming links are assigned breadth zero, while\n    // nodes with no outgoing links are assigned the maximum breadth.\n    function computeNodeBreadths() {\n        var remainingNodes = nodes,\n            nextNodes,\n            x = 0;\n\n        while (remainingNodes.length) {\n            nextNodes = [];\n            remainingNodes.forEach(function (node) {\n                node.x = x;\n                node.dx = nodeWidth;\n                node.sourceLinks.forEach(function (link) {\n                    if (nextNodes.indexOf(link.target) < 0) {\n                        nextNodes.push(link.target);\n                    }\n                });\n            });\n            remainingNodes = nextNodes;\n            ++x;\n        }\n\n        //\n        moveSinksRight(x);\n        scaleNodeBreadths((size[0] - nodeWidth) / (x - 1));\n    }\n\n    function moveSourcesRight() {\n        nodes.forEach(function (node) {\n            if (!node.targetLinks.length) {\n                node.x = d3.min(node.sourceLinks, function (d) { return d.target.x; }) - 1;\n            }\n        });\n    }\n\n    function moveSinksRight(x) {\n        nodes.forEach(function (node) {\n            if (!node.sourceLinks.length) {\n                node.x = x - 1;\n            }\n        });\n    }\n\n    function scaleNodeBreadths(kx) {\n        nodes.forEach(function (node) {\n            node.x *= kx;\n        });\n    }\n\n    function computeNodeDepths(iterations) {\n        var nodesByBreadth = d3.nest()\n            .key(function (d) { return d.x; })\n            .sortKeys(d3.ascending)\n            .entries(nodes)\n            .map(function (d) { return d.values; });\n\n        //\n        initializeNodeDepth();\n        resolveCollisions();\n        for (var alpha = 1; iterations > 0; --iterations) {\n            relaxRightToLeft(alpha *= .99);\n            resolveCollisions();\n            relaxLeftToRight(alpha);\n            resolveCollisions();\n        }\n\n        function initializeNodeDepth() {\n            var ky = d3.min(nodesByBreadth, function (nodes) {\n                return (size[1] - (nodes.length - 1) * nodePadding) / d3.sum(nodes, value);\n            });\n\n            nodesByBreadth.forEach(function (nodes) {\n                nodes.forEach(function (node, i) {\n                    node.y = i;\n                    node.dy = node.value * ky;\n                });\n            });\n\n            links.forEach(function (link) {\n                link.dy = link.value * ky;\n            });\n        }\n\n        function relaxLeftToRight(alpha) {\n            nodesByBreadth.forEach(function (nodes, breadth) {\n                nodes.forEach(function (node) {\n                    if (node.targetLinks.length) {\n                        var y = d3.sum(node.targetLinks, weightedSource) / d3.sum(node.targetLinks, value);\n                        node.y += (y - center(node)) * alpha;\n                    }\n                });\n            });\n\n            function weightedSource(link) {\n                return center(link.source) * link.value;\n            }\n        }\n\n        function relaxRightToLeft(alpha) {\n            nodesByBreadth.slice().reverse().forEach(function (nodes) {\n                nodes.forEach(function (node) {\n                    if (node.sourceLinks.length) {\n                        var y = d3.sum(node.sourceLinks, weightedTarget) / d3.sum(node.sourceLinks, value);\n                        node.y += (y - center(node)) * alpha;\n                    }\n                });\n            });\n\n            function weightedTarget(link) {\n                return center(link.target) * link.value;\n            }\n        }\n\n        function resolveCollisions() {\n            nodesByBreadth.forEach(function (nodes) {\n                var node,\n                    dy,\n                    y0 = 0,\n                    n = nodes.length,\n                    i;\n\n                // Push any overlapping nodes down.\n                nodes.sort(ascendingDepth);\n                for (i = 0; i < n; ++i) {\n                    node = nodes[i];\n                    dy = y0 - node.y;\n                    if (dy > 0) node.y += dy;\n                    y0 = node.y + node.dy + nodePadding;\n                }\n\n                // If the bottommost node goes outside the bounds, push it back up.\n                dy = y0 - nodePadding - size[1];\n                if (dy > 0) {\n                    y0 = node.y -= dy;\n\n                    // Push any overlapping nodes back up.\n                    for (i = n - 2; i >= 0; --i) {\n                        node = nodes[i];\n                        dy = node.y + node.dy + nodePadding - y0;\n                        if (dy > 0) node.y -= dy;\n                        y0 = node.y;\n                    }\n                }\n            });\n        }\n\n        function ascendingDepth(a, b) {\n            return a.y - b.y;\n        }\n    }\n\n    function computeLinkDepths() {\n        nodes.forEach(function (node) {\n            node.sourceLinks.sort(ascendingTargetDepth);\n            node.targetLinks.sort(ascendingSourceDepth);\n        });\n        nodes.forEach(function (node) {\n            var sy = 0, ty = 0;\n            node.sourceLinks.forEach(function (link) {\n                link.sy = sy;\n                sy += link.dy;\n            });\n            node.targetLinks.forEach(function (link) {\n                link.ty = ty;\n                ty += link.dy;\n            });\n        });\n\n        function ascendingSourceDepth(a, b) {\n            return a.source.y - b.source.y;\n        }\n\n        function ascendingTargetDepth(a, b) {\n            return a.target.y - b.target.y;\n        }\n    }\n\n    function center(node) {\n        return node.y + node.dy / 2;\n    }\n\n    function value(link) {\n        return link.value;\n    }\n\n    return sankey;\n};"],"sourceRoot":""}